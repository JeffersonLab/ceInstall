#%Module4.5

#conflict .hipo

# Environment

# SIM_INSTALLATION_DIR is not set when hipo is used independently of sim or gemc
if {![info exists SIM_INSTALLATION_DIR]} {
	setenv SIM_OSRELEASE [ exec $env(SIM_HOME)/ceInstall/sim_osrelease.py ]
	setenv SIM_INSTALLATION_DIR $env(SIM_HOME)/$env(SIM_VERSION)/$env(SIM_OSRELEASE)
}

set dir $env(SIM_INSTALLATION_DIR)/hipo/${version}

setenv HIPO_VERSION $version
setenv HIPO $dir

prepend-path PYTHONPATH $dir/extensions/python

prepend-path LD_LIBRARY_PATH $dir/lib
prepend-path LD_LIBRARY_PATH $dir/slib
if { [uname sysname] == "Darwin" } {
	setenv DYLD_LIBRARY_PATH $env(LD_LIBRARY_PATH)
}







proc ModulesTest { } {
	
	set var HIPO
	set installation_lib [ getenv HIPO ]/lib/libhipo4.a
	set retcode 1

	puts stderr ""
	if { [file isfile $installation_lib ] } {
		puts stderr " Y $var \t\t $installation_lib"
	} else {
		puts stderr " N $var \t\t $installation_lib"
		set retcode 0
	}

	return $retcode
}

